<ion-header>
  <ion-toolbar>
    <ion-title style="margin-left: 140px;">SIGN IN</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding style="align-items: center;">
  <div class="spin" *ngIf="spinner">
    <ion-spinner name="crescent"></ion-spinner>
</div>
  
  <ion-card style="margin-top: 20px;">
    <ion-grid>
      <ion-row><ion-label>{{resterrmsg}}</ion-label></ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Mobile number" [(ngModel)]="userlogin.mobile"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Password" type="password"  [type]="passwordType" [(ngModel)]="userlogin.password"></ion-input>
            <ion-icon slot="end" name="eye" [colors]="passwordShow --- true ? 'dark' : 'gray'" item-end (click) = "togglePassword()"></ion-icon>
          </ion-item>
          
        </ion-col>
      </ion-row>
   
  

      <ion-row>
        <ion-col size="1"></ion-col>
        <ion-col size="10">
          <ion-button expand="block" type="submit" class="ion-no-margin" color="danger" (click)="login()">Sign In</ion-button>
        </ion-col>
        <ion-col size="1"></ion-col>
      </ion-row>
      
      <p style="text-align: center;">OR Using</p>
      <ion-row>
        <ion-col size="1"></ion-col>
        <ion-col size="10">
          <div>
            <ion-button expand="block" type="submit" class="ion-no-margin" color="danger" (click)="change()">OTP</ion-button>
            <ion-label color="danger">{{errmsg}}</ion-label>
          </div>
        </ion-col>
        <ion-col size="1"></ion-col>
      </ion-row>
      

      <ion-row *ngIf="flag" class="ion-padding-top">
          <ion-col size=8>
            <ion-input type="number" placeholder="enter mobile number" [(ngModel)]="phonenumber">+91&nbsp;&nbsp;</ion-input>
          </ion-col>
          <ion-col size=4>
            <ion-button size="small" expand="block"  shape="round" fill="outline"  type="submit" class="ion-no-margin" color="danger" (click)="sendOTP()">Send OTP</ion-button>
          </ion-col>
      </ion-row>
      
      <ion-row *ngIf="otpflag" class="ion-padding-top">
        <ion-col>
          <ion-label position="floating">Enter 6 digit OTP</ion-label>
          <ion-input [(ngModel)]="code"></ion-input>
        </ion-col>
        <ion-col>
          <ion-button  size="small" shape="round" fill="outline" expand="block" type="submit" class="ion-no-margin" color="danger" (click)="verify()">Submit</ion-button>
        </ion-col>
        <ion-progress-bar type="indeterminate" *ngIf="otpProgress"></ion-progress-bar>
      </ion-row>      
    </ion-grid>
  </ion-card>
</ion-content>